# Proto Gear v0.7.0 - Parallel Development Plan

**Date**: 2025-11-14
**Status**: Worktrees Ready for Development
**Version Target**: v0.7.0

---

## Overview

Three parallel development workstreams set up using git worktrees for v0.7.0 medium-term goals.

## Worktree Structure

```
G:/Projects/proto-gear/                    # Main repo (development branch)
G:/Projects/proto-gear-worktrees/
  ├── feature-PROTO-020-template-metadata/     # Worktree 1
  ├── feature-PROTO-021-enhanced-detection/    # Worktree 2
  └── feature-PROTO-022-additional-capabilities/ # Worktree 3
```

## PROTO-020: Template Metadata System

**Branch**: `feature/PROTO-020-template-metadata`
**Worktree**: `G:/Projects/proto-gear-worktrees/feature-PROTO-020-template-metadata`
**Priority**: HIGH
**Estimated Effort**: 12-15 hours

### Goals

Implement YAML frontmatter support for templates to enable:
- Conditional content based on project type
- Metadata-driven template generation
- Smart defaults from project detection

### Implementation Plan

1. **Create Metadata Parser** (`core/proto_gear_pkg/metadata_parser.py`)
   - Parse YAML frontmatter from templates
   - Extract metadata and content separately
   - Handle missing/malformed metadata gracefully

2. **Update Template Format**
   - Add YAML frontmatter to one template (TESTING.template.md as pilot)
   - Define metadata schema:
     ```yaml
     ---
     name: "Testing Workflow"
     version: "1.0.0"
     requires:
       - project_type: ["Python", "Node.js", "Any"]
     conditional_sections:
       python_specific:
         condition: "project_type == 'Python'"
         content: |
           Python-specific testing patterns...
       nodejs_specific:
         condition: "project_type == 'Node.js'"
         content: |
           Node.js-specific testing patterns...
     ---
     ```

3. **Modify Generation Code**
   - Update `generate_testing_doc()` to use metadata
   - Conditionally include/exclude sections based on project type
   - Fall back to current behavior if no metadata

4. **Add Tests**
   - Test metadata parsing
   - Test conditional content generation
   - Test fallback behavior

5. **Documentation**
   - Update README with metadata examples
   - Document metadata schema

### Success Criteria

- [ ] Metadata parser implemented and tested
- [ ] At least one template using metadata (TESTING.template.md)
- [ ] Conditional content generation working
- [ ] Tests passing with 80%+ coverage of new code
- [ ] Documentation updated

---

## PROTO-021: Enhanced Project Detection

**Branch**: `feature/PROTO-021-enhanced-detection`
**Worktree**: `G:/Projects/proto-gear-worktrees/feature-PROTO-021-enhanced-detection`
**Priority**: MEDIUM
**Estimated Effort**: 8-10 hours

### Goals

Expand framework detection beyond current support (Next.js, React, Vue, Django, FastAPI, Express) to include:
- Angular
- Svelte/SvelteKit
- Ruby on Rails
- Laravel (PHP)
- Spring Boot (Java)
- ASP.NET (C#)

### Implementation Plan

1. **Add Detection Logic** (in `core/proto_gear_pkg/proto_gear.py`)
   - Angular: Check for `angular.json`
   - Svelte: Check for `svelte.config.js`
   - Rails: Check for `Gemfile` + `config/application.rb`
   - Laravel: Check for `composer.json` + `artisan`
   - Spring Boot: Check for `pom.xml` or `build.gradle` + Spring dependencies
   - ASP.NET: Check for `*.csproj` + ASP.NET references

2. **Update `detect_project_structure()`**
   - Add detection functions for each framework
   - Update priority/precedence logic
   - Return more detailed framework info

3. **Add Tests** (`tests/test_project_detection.py`)
   - Test each new framework detection
   - Test precedence when multiple indicators present
   - Test edge cases (empty files, malformed configs)

4. **Update Templates**
   - Ensure templates handle new framework types
   - Add framework-specific examples where relevant

### Success Criteria

- [ ] 6 new frameworks detected correctly
- [ ] Tests for all new detection logic
- [ ] No regression in existing detection
- [ ] Updated project-detection.md documentation

---

## PROTO-022: Additional Capabilities Evaluation

**Branch**: `feature/PROTO-022-additional-capabilities`
**Worktree**: `G:/Projects/proto-gear-worktrees/feature-PROTO-022-additional-capabilities`
**Priority**: MEDIUM (Based on Need)
**Estimated Effort**: 6-8 hours

### Goals

Evaluate user needs and add 1-2 high-value capabilities based on:
- User feedback (if available)
- Common workflow gaps
- Roadmap priorities

### Candidate Capabilities

**High Priority** (add if time permits):
1. **Performance Optimization Skill** (`skills/performance/SKILL.md`)
   - Profiling methodology
   - Optimization patterns
   - Benchmarking best practices

2. **Documentation Writing Skill** (`skills/documentation/SKILL.md`)
   - API documentation patterns
   - README structure
   - Code comment conventions

**Medium Priority**:
3. **Security Review Workflow** (`workflows/security-review/WORKFLOW.md`)
   - Security audit checklist
   - Vulnerability scanning
   - Dependency updates

4. **Code Review Process** (`workflows/code-review-process/WORKFLOW.md`)
   - PR review checklist
   - Review best practices
   - Feedback guidelines

### Implementation Plan

1. **Evaluate Need**
   - Check GitHub issues for requests
   - Review common development workflows
   - Prioritize based on value/effort ratio

2. **Create Capability Files**
   - Follow existing capability structure
   - Include clear examples
   - Battle-test patterns

3. **Update Wizard**
   - Add new capabilities to selection
   - Update capability counts
   - Test selection flow

4. **Add Tests**
   - Test capability file discovery
   - Test capability copying
   - Validate file structure

### Success Criteria

- [ ] 1-2 new capabilities added (based on evaluation)
- [ ] Capabilities follow quality standards
- [ ] Wizard updated to include new capabilities
- [ ] Tests passing
- [ ] Documentation updated

---

## Development Workflow

### Working in Worktrees

1. **Switch to worktree**:
   ```bash
   cd G:/Projects/proto-gear-worktrees/feature-PROTO-020-template-metadata
   ```

2. **Make changes**:
   - Edit files in `core/proto_gear_pkg/`
   - Add tests in `tests/`
   - Update docs in `docs/`

3. **Test changes**:
   ```bash
   python -m pytest
   pg init --dry-run  # Test CLI
   ```

4. **Commit**:
   ```bash
   git add .
   git commit -m "feat(metadata): implement YAML frontmatter parsing"
   ```

5. **Merge to development** (from main repo):
   ```bash
   cd G:/Projects/proto-gear
   git checkout development
   git merge feature/PROTO-020-template-metadata --no-ff
   ```

### Parallel Development

All three workstreams can be developed simultaneously:
- Developer A works in PROTO-020 worktree
- Developer B works in PROTO-021 worktree
- Developer C works in PROTO-022 worktree

Merge to `development` when each is complete.

---

## Integration & Release Plan

### After All Workstreams Complete

1. **Merge all to development**:
   ```bash
   git merge feature/PROTO-020-template-metadata --no-ff
   git merge feature/PROTO-021-enhanced-detection --no-ff
   git merge feature/PROTO-022-additional-capabilities --no-ff
   ```

2. **Integration testing**:
   - Test all features together
   - Check for conflicts/regressions
   - Verify wizard works with all new features

3. **Update version**:
   - Bump to v0.7.0 in `pyproject.toml` and `__init__.py`
   - Update CHANGELOG.md
   - Update readiness assessment

4. **Merge to main**:
   ```bash
   git checkout main
   git merge development --no-ff
   git tag v0.7.0
   ```

5. **Cleanup worktrees**:
   ```bash
   git worktree remove feature-PROTO-020-template-metadata
   git worktree remove feature-PROTO-021-enhanced-detection
   git worktree remove feature-PROTO-022-additional-capabilities
   git branch -d feature/PROTO-020-template-metadata
   git branch -d feature/PROTO-021-enhanced-detection
   git branch -d feature/PROTO-022-additional-capabilities
   ```

---

## Timeline Estimate

**Total Effort**: 26-33 hours (for all three workstreams)

**Realistic Timeline**:
- **Week 1**: PROTO-020 (metadata system) - 12-15 hours
- **Week 2**: PROTO-021 (enhanced detection) - 8-10 hours
- **Week 3**: PROTO-022 (capabilities) - 6-8 hours
- **Week 4**: Integration, testing, release

**Target Release**: v0.7.0 (4-6 weeks from now)

---

## Quality Standards

Each workstream must meet:
- [ ] All tests passing
- [ ] No regression in existing functionality
- [ ] Code follows project conventions
- [ ] Documentation updated
- [ ] Dry-run testing successful
- [ ] Peer review complete (if applicable)

---

## Notes

- CI/CD and PyPI publishing removed from v0.7.0 scope per user direction
- Focus on quality over speed
- Each workstream can be released independently if needed
- Dogfooding: Use these features to develop Proto Gear itself

---

*Last Updated: 2025-11-14*
*Proto Gear Version: v0.6.4*
*Target Version: v0.7.0*
