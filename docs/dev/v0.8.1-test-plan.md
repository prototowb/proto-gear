# v0.8.1 Test Plan

**Version:** v0.8.1
**Date:** 2025-12-19
**Tester:** Claude (AI Agent)
**Focus:** New UX improvements (MEDIUM priority features)

---

## Test Scope

### Features Under Test
1. ‚úÖ MEDIUM-1: Capability filtering (`--type`, `--tag`, `--role`, `--status`)
2. ‚úÖ MEDIUM-2: Capabilities tree command (`pg capabilities tree`)
3. ‚úÖ MEDIUM-3: Fuzzy matching for error messages
4. ‚úÖ MEDIUM-4: Agent clone command (`pg agent clone`)
5. ‚úÖ MEDIUM-5: Improved agent list output (table format)
6. ‚úÖ Bug Fix: Double-prefix in agent capabilities

### Out of Scope
- Existing v0.8.0 features (already tested)
- LOW priority features (not implemented)

---

## Test Cases

### TC-01: Capability Filtering
**Feature:** MEDIUM-1

| Test Case | Command | Expected Result | Status |
|-----------|---------|----------------|--------|
| TC-01.1 | `pg capabilities list --type skill` | Shows only skills | ‚è≥ |
| TC-01.2 | `pg capabilities list --tag testing` | Shows capabilities with 'testing' tag | ‚è≥ |
| TC-01.3 | `pg capabilities list --status stable` | Shows only stable capabilities | ‚è≥ |
| TC-01.4 | `pg capabilities list --type skill --tag testing` | Shows skills with testing tag (combined filters) | ‚è≥ |
| TC-01.5 | `pg capabilities list` (no filters) | Shows all capabilities | ‚è≥ |

---

### TC-02: Capabilities Tree
**Feature:** MEDIUM-2

| Test Case | Command | Expected Result | Status |
|-----------|---------|----------------|--------|
| TC-02.1 | `pg capabilities tree testing` | Shows dependency tree for testing | ‚è≥ |
| TC-02.2 | `pg capabilities tree skills/debugging` | Shows tree for full ID | ‚è≥ |
| TC-02.3 | `pg capabilities tree feature-development` | Shows workflow with required deps | ‚è≥ |
| TC-02.4 | `pg capabilities tree create-ticket` | Shows command with minimal deps | ‚è≥ |
| TC-02.5 | `pg capabilities tree nonexistent` | Shows "not found" + suggestions | ‚è≥ |

---

### TC-03: Fuzzy Matching
**Feature:** MEDIUM-3

| Test Case | Command | Expected Result | Status |
|-----------|---------|----------------|--------|
| TC-03.1 | `pg capabilities show teting` | Suggests "testing" | ‚è≥ |
| TC-03.2 | `pg capabilities tree debuging` | Suggests "debugging" | ‚è≥ |
| TC-03.3 | `pg agent show test-bacend` | Suggests "test-backend" | ‚è≥ |
| TC-03.4 | `pg agent validate quick-tst` | Suggests "quick-test" | ‚è≥ |
| TC-03.5 | `pg capabilities show zzzzz` | No suggestions (too different) | ‚è≥ |

---

### TC-04: Agent Clone
**Feature:** MEDIUM-4

| Test Case | Command | Expected Result | Status |
|-----------|---------|----------------|--------|
| TC-04.1 | `pg agent clone test-backend cloned-1` | Creates cloned-1 with same capabilities | ‚è≥ |
| TC-04.2 | `pg agent clone test-backend cloned-2 --description "Custom"` | Creates with custom description | ‚è≥ |
| TC-04.3 | `pg agent validate cloned-1` | Validates successfully | ‚è≥ |
| TC-04.4 | `pg agent clone nonexistent dest` | Shows error + suggestions | ‚è≥ |
| TC-04.5 | `pg agent show cloned-1` | Shows all copied fields | ‚è≥ |

---

### TC-05: Improved Agent List
**Feature:** MEDIUM-5

| Test Case | Command | Expected Result | Status |
|-----------|---------|----------------|--------|
| TC-05.1 | `pg agent list` | Shows table format with NAME, CAPABILITIES, STATUS | ‚è≥ |
| TC-05.2 | Verify valid agent | Shows `[OK] Valid` for valid agents | ‚è≥ |
| TC-05.3 | Verify invalid agent | Shows `[X] Invalid` for broken agents | ‚è≥ |
| TC-05.4 | Check quick actions | Shows 3 quick action suggestions at bottom | ‚è≥ |
| TC-05.5 | Check box formatting | Consistent with capabilities list style | ‚è≥ |

---

### TC-06: Double-Prefix Bug Fix
**Feature:** Bug Fix

| Test Case | Command | Expected Result | Status |
|-----------|---------|----------------|--------|
| TC-06.1 | `pg agent create test1 --template backend-developer` | Creates valid agent | ‚è≥ |
| TC-06.2 | `pg agent validate test1` | No "skills/skills/" errors | ‚è≥ |
| TC-06.3 | `pg agent create test2 --capabilities testing,debugging` | Creates valid agent | ‚è≥ |
| TC-06.4 | `pg agent validate test2` | No double-prefix errors | ‚è≥ |
| TC-06.5 | Check YAML file | Contains "testing" not "skills/testing" | ‚è≥ |

---

## Integration Tests

### INT-01: End-to-End Workflows

| Test Case | Description | Status |
|-----------|-------------|--------|
| INT-01.1 | Create agent from template ‚Üí clone ‚Üí validate ‚Üí list | ‚è≥ |
| INT-01.2 | Filter capabilities ‚Üí view tree ‚Üí create agent with filtered caps | ‚è≥ |
| INT-01.3 | Typo in command ‚Üí fuzzy match ‚Üí correct command ‚Üí success | ‚è≥ |

---

## Regression Tests

### REG-01: Existing Features

| Test Case | Description | Status |
|-----------|-------------|--------|
| REG-01.1 | `pg init` still works | ‚è≥ |
| REG-01.2 | `pg capabilities list` (no filters) works | ‚è≥ |
| REG-01.3 | Agent wizard still launches | ‚è≥ |
| REG-01.4 | Existing agents still validate | ‚è≥ |

---

## Edge Cases

| Test Case | Description | Expected Result | Status |
|-----------|-------------|-----------------|--------|
| EDGE-01 | Empty agents directory | Graceful error messages | ‚è≥ |
| EDGE-02 | Very long agent name (50+ chars) | Truncates properly in table | ‚è≥ |
| EDGE-03 | Special characters in fuzzy match | No crashes | ‚è≥ |
| EDGE-04 | Multiple filters with no results | Shows empty list gracefully | ‚è≥ |

---

## Test Results Summary

**Status Key:**
- ‚è≥ Not Started
- üîÑ In Progress
- ‚úÖ Passed
- ‚ùå Failed
- ‚ö†Ô∏è Partial

**Overall Progress:** 0/35 tests completed

---

## Test Execution Notes

_Add notes here during testing..._

---

## Sign-Off

- [ ] All critical tests passed
- [ ] All regressions passed
- [ ] No blockers identified
- [ ] Ready for release

**Tested By:** _________________
**Date:** _________________
